<div class="quiz-list-container">
  <h2 class="title">ğŸ§  ÙÙ‡Ø±Ø³Øª Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§</h2>

  @if (isLoading) {
    <div class="loading">
      <mat-progress-bar mode="indeterminate"></mat-progress-bar>
      <p>Ø¯Ø± Ø­Ø§Ù„ Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ Ø¢Ø²Ù…ÙˆÙ†â€ŒÙ‡Ø§...</p>
    </div>
  } 
  @else if (!quizzes.length) {
    <div class="empty-state">
      <mat-icon class="icon">inventory_2</mat-icon>
      <p>Ù‡ÛŒÚ† Ø¢Ø²Ù…ÙˆÙ†ÛŒ Ø«Ø¨Øª Ù†Ø´Ø¯Ù‡ Ø§Ø³Øª.</p>
    </div>
  } 
  @else {
    <div class="quiz-grid">
      @for (quiz of quizzes; track quiz.id) {
        <mat-card class="quiz-card" [ngClass]="{ expired: isExpired(quiz) }">
          <div class="card-header">
            <mat-icon class="quiz-icon">quiz</mat-icon>
            <div>
              <h3>{{ quiz.title }}</h3>
              <p class="info">
                Ø²Ù…Ø§Ù† Ø¢Ø²Ù…ÙˆÙ†: {{ quiz.durationMinutes }} Ø¯Ù‚ÛŒÙ‚Ù‡  
                <br />
                ØªØ§Ø±ÛŒØ® Ø§Ù†Ù‚Ø¶Ø§: {{ quiz.expirationDate | date:'yyyy/MM/dd' }}
              </p>
            </div>
          </div>

          <mat-card-content>
            <div class="details">
              <span class="badge">
                {{ quiz.questions.length }} Ø³ÙˆØ§Ù„
              </span>

              <span class="status" [ngClass]="isExpired(quiz) ? 'expired' : 'active'">
                {{ isExpired(quiz) ? 'Ù…Ù†Ù‚Ø¶ÛŒ Ø´Ø¯Ù‡' : 'ÙØ¹Ø§Ù„' }}
              </span>
            </div>
          </mat-card-content>

          <mat-card-actions  align="end">
            <button mat-raised-button 
                    color="primary" 
                    (click)="startQuiz(quiz.id)" 
                    [disabled]="isExpired(quiz)">
              Ø´Ø±ÙˆØ¹ Ø¢Ø²Ù…ÙˆÙ†
            </button>
          </mat-card-actions>
        </mat-card>
      }
    </div>
  }
</div>
